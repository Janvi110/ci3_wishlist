<div data-portal-id="modal-Polarisportal-5" class="modal-Polarisportal installation_modal" id="installation_modal" style="display: none;">
  <div>
    <div class="Polaris-Modal-Dialog__Container" data-polaris-layer="true" data-polaris-overlay="true">
      <div>
       <form id="" enctype="multipart/form-data">

        <div role="dialog" aria-labelledby="Polarismodal-header1" tabindex="-1" class="Polaris-Modal-Dialog">
          <div class="Polaris-Modal-Dialog__Modal">
            <div class="Polaris-Modal-Header">
              <div id="Polarismodal-header1" class="Polaris-Modal-Header__Title">
                <h2 class="Polaris-DisplayText Polaris-DisplayText--sizeSmall">Automatic Theme Update </h2> 
              </div>
              <button class="Polaris-Modal-CloseButton close_modal" aria-label="Close">
                <span class="Polaris-Icon Polaris-Icon--colorInkLighter Polaris-Icon--isColored">
                  <svg viewBox="0 0 20 20" class="Polaris-Icon__Svg_" focusable="false" aria-hidden="true">
                    <path d="M11.414 10l6.293-6.293a1 1 0 1 0-1.414-1.414L10 8.586 3.707 2.293a1 1 0 0 0-1.414 1.414L8.586 10l-6.293 6.293a1 1 0 1 0 1.414 1.414L10 11.414l6.293 6.293A.998.998 0 0 0 18 17a.999.999 0 0 0-.293-.707L11.414 10z"></path>
                  </svg>
                </span>
              </button>
            </div>
              <div class="Polaris-Modal__BodyWrapper">
                <div class="Polaris-Modal__Body Polaris-Scrollable Polaris-Scrollable--vertical" data-polaris-scrollable="true">
                  <section class="Polaris-Modal-Section" style="padding-top: 3rem;">
                    <div class="Polaris-Stack Polaris-Stack--vertical">
                      <div style="--top-bar-background:#00848e; --top-bar-background-lighter:#1d9ba4; --top-bar-color:#f9fafb; --p-frame-offset:0px;">
                        <div class="">
                            <div class="Polaris-Labelled__LabelWrapper">
                              <div class="Polaris-Label"><label id="PolarisSelect2Label" for="PolarisSelect2" class="Polaris-Label__Text">Select the theme you would like to update.</label></div>
                            </div>
                            <div class="Polaris-Select"><select id="theme_select" class="Polaris-Select__Input" aria-invalid="false">
                                <option>Select theme</option>
                                <div class="theme_option"></div>
                              </select>
                              <div class="Polaris-Select__Content" aria-hidden="true"><span class="Polaris-Select__SelectedOption">Select theme</span><span class="Polaris-Select__Icon"><span class="Polaris-Icon"><svg viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true">
                                      <path d="M10 16l-4-4h8l-4 4zm0-12l4 4H6l4-4z"></path>
                                    </svg></span></span></div>
                              <div class="Polaris-Select__Backdrop"></div>
                            </div>
                        </div>
                        <div id="PolarisPortalsContainer"></div>
                      </div><br>
                      <div style="--top-bar-background:#00848e; --top-bar-background-lighter:#1d9ba4; --top-bar-color:#f9fafb; --p-frame-offset:0px;">
                        <div class="">
                            <div class="Polaris-Labelled__LabelWrapper">
                              <div class="Polaris-Label"><label id="PolarisSelect2Label1" for="PolarisSelect2" class="Polaris-Label__Text">Select Button Or Icon</label></div>
                            </div>
                            <div class="Polaris-Select"><select id="btn-icon" class="Polaris-Select__Input" aria-invalid="false">
                                <option>Select One</option>
                                <option value="button">Button</option>
                                <option value="icon">icon</option>
                              </select>
                              <div class="Polaris-Select__Content" aria-hidden="true"><span class="Polaris-Select__SelectedOption check">Select One</span><span class="Polaris-Select__Icon"><span class="Polaris-Icon"><svg viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true">
                                      <path d="M10 16l-4-4h8l-4 4zm0-12l4 4H6l4-4z"></path>
                                    </svg></span></span></div>
                              <div class="Polaris-Select__Backdrop"></div>
                            </div>
                        </div>
                        <div id="PolarisPortalsContainer"></div>
                      </div>
                    </div>
                  </section>
                </div>
              </div>
              <div class="Polaris-Modal-Footer">
                <div class="Polaris-Modal-Footer__FooterContent">
                  <div class="Polaris-Stack Polaris-Stack--alignmentCenter">
                    <div class="Polaris-Stack__Item Polaris-Stack__Item--fill"></div>
                    <div class="Polaris-Stack__Item">
                      <div class="Polaris-ButtonGroup">
                        <div class="Polaris-ButtonGroup__Item close_modal">
                          <button type="button" class="Polaris-Button">
                            <span class="Polaris-Button__Content">
                              <span class="Polaris-Button__Text">Cancel</span>
                            </span>
                          </button>
                        </div>
                        <div class="Polaris-ButtonGroup__Item">     
                          <input type="button" class="Polaris-Button Polaris-Button--primary button-next pull-right" value="Update theme" id="update_theme" name="Update theme">  
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="Polaris-Backdrop installation_modal"></div>
</div>

<!-- Offset Frame -->
<main class="Polaris-Frame__Main" id="AppFrameMain" data-has-global-ribbon="true">
  <a id="AppFrameMainContent" tabindex="-1"></a>
    <div class="Polaris-Frame__Content">
      <div class="Polaris-Page Polaris-Page--fullWidth code_installation">  
        <div class="Polaris-Page-Header Polaris-Page-Header--hasActionMenu">
          <div class="Polaris-Page-Header__MainContent">
            <div class="Polaris-Page-Header__TitleActionMenuWrapper">
              <div>
                <div class="Polaris-Header-Title__TitleAndSubtitleWrapper">
                  <div class="Polaris-Header-Title" style="margin-bottom: 15px;">
                    <h1 class="Polaris-DisplayText Polaris-DisplayText--sizeLarge">Complete your installation</h1>
                  </div>
                </div>
              </div>   
            </div>   
            <button type="button" class="Polaris-Button Polaris-Button--primary ml-auto create-tier-btn Uninstall_code">
              <span class="Polaris-Button__Content">
                <span class="Polaris-Button__Text">Run Uninstall Services</span>
              </span>
            </button>
          </div>           
        </div>
        
        <div class="Polaris-Page-Header__ActionMenuWrapper">
          <div class="Polaris-ActionMenu">
            <div class="Polaris-ActionMenu__ActionsLayout">  
              <div class="Polaris-ActionMenu-MenuAction Polaris-TextContainer">  
                <p>Your Shopify theme must now be updated with our app’s unique code. Please select one of the installation methods below:</p>  
              </div>
            </div>
          </div>            
        </div>
        <!-- email send banner -->
        <div>
          <div class="Polaris-Banner Polaris-Banner--statusSuccess Polaris-Banner--hasDismiss Polaris-Banner--withinPage emailbanner" tabindex="0" role="status" aria-live="polite" aria-labelledby="PolarisBanner4Heading" aria-describedby="PolarisBanner4Content" style="display: none;margin-top: 8px">
            <div class="Polaris-Banner__Dismiss close_emailbanner"><button class="Polaris-Button Polaris-Button--plain Polaris-Button--iconOnly" aria-label="Dismiss notification" type="button"><span class="Polaris-Button__Content"><span class="Polaris-Button__Icon"><span class="Polaris-Icon"><svg viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true">
              <path d="M11.414 10l4.293-4.293a.999.999 0 1 0-1.414-1.414L10 8.586 5.707 4.293a.999.999 0 1 0-1.414 1.414L8.586 10l-4.293 4.293a.999.999 0 1 0 1.414 1.414L10 11.414l4.293 4.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L11.414 10z"></path></svg></span></span></span></button>
            </div>
            <div class="Polaris-Banner__Ribbon"><span class="Polaris-Icon Polaris-Icon--colorSuccess"><svg viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true" style="fill: #50b83c;">
                  <path fill-rule="evenodd" d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0zm15.2-1.8a1 1 0 0 0-1.4-1.4L9 11.6 6.7 9.3a1 1 0 0 0-1.4 1.4l3 3c.4.4 1 .4 1.4 0l5.5-5.5z"></path>
                </svg></span></div>
            <div class="Polaris-Banner__ContentWrapper">
              <div class="Polaris-Banner__Heading" id="PolarisBanner4Heading">
                <p class="Polaris-Heading">Your request has been sent successfully.</p>
              </div>
            </div>
          </div>
          <div id="PolarisPortalsContainer"></div>
        </div>
        <!-- end banner -->
        <div class="Polaris-Page__Content ">
          <div class="success_banner Polaris-Banner Polaris-Banner--statusSuccess Polaris-Banner--hasDismiss Polaris-Banner--withinPage banner_out" style="margin: 10px 0;"  tabindex="0" role="status" aria-live="polite" aria-labelledby="PolarisBanner4Heading" aria-describedby="PolarisBanner4Content">
            <div class="Polaris-Banner__Dismiss">
              <button type="button" class="Polaris-Button Polaris-Button--plain Polaris-Button--iconOnly close-msg close" aria-label="Dismiss notification"><span class="Polaris-Button__Content"><span class="Polaris-Button__Icon"><span class="Polaris-Icon"><svg viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true"><path d="M11.414 10l4.293-4.293a.999.999 0 1 0-1.414-1.414L10 8.586 5.707 4.293a.999.999 0 1 0-1.414 1.414L8.586 10l-4.293 4.293a.999.999 0 1 0 1.414 1.414L10 11.414l4.293 4.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L11.414 10z" fill-rule="evenodd"></path></svg></span></span></span>
              </button>
            </div>
            <div class="Polaris-Banner__Ribbon">
              <span class="Polaris-Icon Polaris-Icon--colorGreenDark Polaris-Icon--isColored Polaris-Icon--hasBackdrop"><svg viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true"><circle fill="currentColor" cx="10" cy="10" r="9"></circle><path d="M10 0C4.486 0 0 4.486 0 10s4.486 10 10 10 10-4.486 10-10S15.514 0 10 0m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m2.293-10.707L9 10.586 7.707 9.293a1 1 0 1 0-1.414 1.414l2 2a.997.997 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414"></path></svg>
              </span>
            </div>
            <div class="Polaris-Banner__ContentWrapper">
              <div class="Polaris-Banner__Heading" id="PolarisBanner4Heading">
                <p class="Polaris-Heading success_msg"></p>
              </div>                              
            </div>
          </div>
          <div class="error_banner Polaris-Banner Polaris-Banner--statusCritical Polaris-Banner--withinPage banner_out" style="margin-bottom: 15px;"  tabindex="0" role="alert" aria-live="polite" aria-labelledby="PolarisBanner20Heading" aria-describedby="PolarisBanner20Content">
            <div class="Polaris-Banner__Dismiss">
              <button type="button" class="Polaris-Button Polaris-Button--plain Polaris-Button--iconOnly close-msg" aria-label="Dismiss notification"><span class="Polaris-Button__Content"><span class="Polaris-Button__Icon"><span class="Polaris-Icon"><svg viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true"><path d="M11.414 10l4.293-4.293a.999.999 0 1 0-1.414-1.414L10 8.586 5.707 4.293a.999.999 0 1 0-1.414 1.414L8.586 10l-4.293 4.293a.999.999 0 1 0 1.414 1.414L10 11.414l4.293 4.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L11.414 10z" fill-rule="evenodd"></path></svg></span></span></span>
              </button>
              </div>
              <div class="Polaris-Banner__Ribbon"><span class="Polaris-Icon Polaris-Icon--colorRedDark Polaris-Icon--isColored Polaris-Icon--hasBackdrop"><svg viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true"><circle fill="currentColor" cx="10" cy="10" r="9"></circle> <path d="M2 10c0-1.846.635-3.543 1.688-4.897l11.209 11.209A7.954 7.954 0 0 1 10 18c-4.411 0-8-3.589-8-8m14.312 4.897L5.103 3.688A7.954 7.954 0 0 1 10 2c4.411 0 8 3.589 8 8a7.952 7.952 0 0 1-1.688 4.897M0 10c0 5.514 4.486 10 10 10s10-4.486 10-10S15.514 0 10 0 0 4.486 0 10"></path></svg></span>
              </div>
              <div class="Polaris-Banner__ContentWrapper">
                <div class="Polaris-Banner__Heading" id="PolarisBanner20Heading">
                  <p class="Polaris-Heading error_msg"></p>
                </div>                            
              </div>
          </div> 
          <div class="Polaris-Layout">                    
            <div class="Polaris-Layout__Section">
              <div class="Polaris-Layout">
                <div class="Polaris-Layout__Section Polaris-Layout__Section--oneThird">
                  <div class="Polaris-Card">
                    <div class="Polaris-Card">
                      <div class="Polaris-Card__Section install_content text-center">
                        <div class="_3JWQ9">
                          <img src="<?=base_url();?>assets/newdesign/images/Automatic.png" class="bg3ZO" alt="">
                            <div class="Polaris-TextContainer Polaris-TextContainer--spacingTight ">
                              <h2 class="Polaris-Heading">
                                <span>Automatic Install (Free)</span>
                              </h2><br>
                              <p>Our installation robot will add all relevant code to your Shopify theme automatically! Don’t worry, we backup all updated files and offer exceptional support if things aren’t quite right.</p>
                            </div>                                    
                        </div>                                
                      </div>
                      <div class="Polaris-Card__Section text-center">
                        <div class="Polaris-MediaCard__ActionContainer">
                          <button type="button" class="Polaris-Button" id="automatic_installation">
                            <span class="Polaris-Button__Content">
                              <h3 class="Polaris-Button__Text Polaris-Subheading">
                                <p>Start Automatic Install</p>
                              </h3>
                            </span>
                          </button>
                        </div>
                      </div>
                    </div> 
                  </div>
                </div>
                <div class="Polaris-Layout__Section Polaris-Layout__Section--oneThird">
                  <div class="Polaris-Card">
                    <div class="Polaris-Card">
                      <div class="Polaris-Card__Section install_content text-center">
                        <div class="_3JWQ9">
                          <img src="<?=base_url();?>assets/newdesign/images/Manual.png" class="bg3ZO" alt="">
                          <div class="Polaris-TextContainer Polaris-TextContainer--spacingTight ">
                            <h2 class="Polaris-Heading">
                                <span>Manual Install (Free)</span>
                            </h2>
                            <p>Advanced Users Only</p>
                            <p>If you’re comfortable with editing theme files and Liquid code, you can complete your own install! Click below for the full instructions.</p>
                          </div>                                    
                        </div>                                
                      </div>
                      <div class="Polaris-Card__Section text-center">
                        <div class="Polaris-MediaCard__ActionContainer">
                          <a href="<?= base_url('installation/manual_install'); ?>">
                            <button type="button" class="Polaris-Button">
                              <span class="Polaris-Button__Content">
                                <h3 class="Polaris-Button__Text Polaris-Subheading">
                                  <p>View installation instruction</p>
                                </h3>
                              </span>
                            </button>
                          </a>
                        </div>
                      </div>
                    </div>                                    
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>


<!-- Modal for upload csv file -->
<div data-portal-id="modal-Polarisportal-5 upload_csv" class="modal-Polarisportal" id="upload_csv" style="display: none;">
    <div>
      <div class="Polaris-Modal-Dialog__Container" data-polaris-layer="true" data-polaris-overlay="true">
        <div>
         <form method="post" id="frm_import_csv" enctype="multipart/form-data">

          <div role="dialog" aria-labelledby="Polarismodal-header1" tabindex="-1" class="Polaris-Modal-Dialog">
            <div class="Polaris-Modal-Dialog__Modal">
              <div class="Polaris-Modal-Header">
                <div id="Polarismodal-header1" class="Polaris-Modal-Header__Title">
                  <h2 class="Polaris-DisplayText Polaris-DisplayText--sizeSmall"> Expert Install </h2> 
                </div>
                <button class="Polaris-Modal-CloseButton close_modal_expert" aria-label="Close">
                  <span class="Polaris-Icon Polaris-Icon--colorInkLighter Polaris-Icon--isColored">
                    <svg viewBox="0 0 20 20" class="Polaris-Icon__Svg_" focusable="false" aria-hidden="true">
                      <path d="M11.414 10l6.293-6.293a1 1 0 1 0-1.414-1.414L10 8.586 3.707 2.293a1 1 0 0 0-1.414 1.414L8.586 10l-6.293 6.293a1 1 0 1 0 1.414 1.414L10 11.414l6.293 6.293A.998.998 0 0 0 18 17a.999.999 0 0 0-.293-.707L11.414 10z"></path>
                    </svg>
                    </span>
                  </button>
                </div>
                <div class="Polaris-Modal__BodyWrapper">
                  <div class="Polaris-Modal__Body Polaris-Scrollable Polaris-Scrollable--vertical" data-polaris-scrollable="true">
                    <section class="Polaris-Modal-Section">
                      <!-- <div class="waiting" style="position:absolute; top:50%;left:50%;z-index: 99;display: none;"><img src="<?= base_url('assets/images/waiting.gif');?>"></div> -->

                       <div class="waiting" style="position:absolute; top:50%;left:50%;z-index: 99;transform: translate(-50%, -50%);display: none;">
                          <div class="spinner-border text-primary" role="status">
                            <span class="sr-only"></span>
                          </div>
                            <div style="--top-bar-background:#00848e; --top-bar-background-lighter:#1d9ba4; --top-bar-color:#f9fafb; --p-frame-offset:0px;">
                              <span class="Polaris-Spinner Polaris-Spinner--colorTeal Polaris-Spinner--sizeLarge">

                              <svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" style="width: 100px;height: 100px;">
                                <path d="M15.542 1.487A21.507 21.507 0 00.5 22c0 11.874 9.626 21.5 21.5 21.5 9.847 0 18.364-6.675 20.809-16.072a1.5 1.5 0 00-2.904-.756C37.803 34.755 30.473 40.5 22 40.5 11.783 40.5 3.5 32.217 3.5 22c0-8.137 5.3-15.247 12.942-17.65a1.5 1.5 0 10-.9-2.863z"
                                 fill="#5967C3"></path>
                              </svg>
                              </span><span role="status"><span class="Polaris-VisuallyHidden">Spinner example</span></span>
                            </div>
                        </div>

                      <div class="Polaris-Stack Polaris-Stack--vertical">
                        <div class="Polaris-Stack__Item">
                          <div class="Polaris-Labelled--hidden">
                            
                            <!-- res_message & banner -->
                            <div>
                                <div class="Polaris-Banner Polaris-Banner--statusInfo Polaris-Banner--hasDismiss Polaris-Banner--withinPage" tabindex="0" role="status" aria-live="polite" aria-labelledby="PolarisBanner6Heading" aria-describedby="PolarisBanner6Content">
                                
                                  <div class="Polaris-Banner__Ribbon"><span class="Polaris-Icon Polaris-Icon--colorHighlight"><svg viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true" style="fill: #47c1bf;">
                                        <path fill-rule="evenodd" d="M10 20c5.514 0 10-4.486 10-10S15.514 0 10 0 0 4.486 0 10s4.486 10 10 10zm1-6a1 1 0 1 1-2 0v-4a1 1 0 1 1 2 0v4zm-1-9a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"></path>
                                      </svg></span></div>
                                  <div class="Polaris-Banner__ContentWrapper">
                                  
                                    <div class="Polaris-Banner__Content" id="PolarisBanner6Content">
                                      <p>We will send you a request to the your store.You accept it. Then We will install our app on your store.
                                        If you have any query. You can write in notes sections.</p>
                                      
                                    </div>
                                  </div>
                                </div>
                                <div id="PolarisPortalsContainer"></div>
                              </div>    
                              <br>             
                            <!-- end res_message & banner -->
                                <!-- res_message & banner -->
                            <div>
                                <div class="Polaris-Banner Polaris-Banner--statusCritical Polaris-Banner--hasDismiss Polaris-Banner--withinPage error_display" tabindex="0" role="status" aria-live="polite" aria-labelledby="PolarisBanner6Heading" aria-describedby="PolarisBanner6Content" style="display: none; margin-bottom: 10px">
                                <div class="Polaris-Banner__Dismiss close_error_banner"><button class="Polaris-Button Polaris-Button--plain Polaris-Button--iconOnly" aria-label="Dismiss notification" type="button"><span class="Polaris-Button__Content"><span class="Polaris-Button__Icon"><span class="Polaris-Icon"><svg viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true"><path d="M11.414 10l4.293-4.293a.999.999 0 1 0-1.414-1.414L10 8.586 5.707 4.293a.999.999 0 1 0-1.414 1.414L8.586 10l-4.293 4.293a.999.999 0 1 0 1.414 1.414L10 11.414l4.293 4.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L11.414 10z"></path></svg></span></span></span></button></div>
                                  <div class="Polaris-Banner__Ribbon"><span class="Polaris-Icon Polaris-Icon--colorHighlight"><svg viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true" style="fill: #de3618;">
                                        <path fill-rule="evenodd" d="M10 20c5.514 0 10-4.486 10-10S15.514 0 10 0 0 4.486 0 10s4.486 10 10 10zm1-6a1 1 0 1 1-2 0v-4a1 1 0 1 1 2 0v4zm-1-9a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"></path>
                                      </svg></span></div>
                                  <div class="Polaris-Banner__ContentWrapper">
                                  
                                    <div class="Polaris-Banner__Content" id="PolarisBanner6Content">
                                      <p class="error_message"></p>
                                      
                                    </div>


                                  </div>
                                </div>
                                <div id="PolarisPortalsContainer"></div>
                              </div>    
                                      
                            <!-- end res_message & banner -->
                            <!-- <div class="success_message"></div> -->
                            <h3 class="Polaris-DisplayText Polaris-DisplayText--sizeSmall"><b>Notes:</b></h3> 
                              <div class="Polaris-Connected">
                                <div class="Polaris-Connected__Item Polaris-Connected__Item--primary">
                                    <div class="Polaris-TextField Polaris-TextField--hasValue Polaris-TextField--multiline">
                                        <textarea id="title_content" class="Polaris-TextField__Input" aria-labelledby="PolarisTextField4Label" aria-invalid="false" name="banner_text" aria-multiline="true" placeholder="You can write." style="height: 190px;" required></textarea>
                                        <div class="Polaris-TextField__Backdrop"></div>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                       
                      </div>
                    </section>
                  </div></div><div class="Polaris-Modal-Footer">
                    <div class="Polaris-Modal-Footer__FooterContent">
                      <div class="Polaris-Stack Polaris-Stack--alignmentCenter">
                        <div class="Polaris-Stack__Item Polaris-Stack__Item--fill"></div><div class="Polaris-Stack__Item"><div class="Polaris-ButtonGroup">
                          <div class="Polaris-ButtonGroup__Item">
                               <button type="button" class="Polaris-Button upload_close-msg"><span class="Polaris-Button__Content"><span class="Polaris-Button__Text">Cancel</span></span></button>
                          </div>                         
                          <div class="Polaris-ButtonGroup__Item">     
                             <input type="button" class="Polaris-Button Polaris-Button--primary button-next pull-right" value="Submit" id="import_csv" name="submit">  
                          </div>
                      </div></div></div>
                    </div>
                  </div>
                </div>
              </div>
               </form>
            </div>
          </div>
        </div>
<div class="Polaris-Backdrop expert_model"></div>
</div>
<!-- End Modal for upload csv file -->



<script type="text/javascript">
    $(document).ready(function(){
      setTimeout(function(){       
          $('.emailbanner').hide();
      },7000);

       setTimeout(function(){       
          $('.error_display').hide();
      },6000);

     $('.close_emailbanner').on('click', function () {
        $('.emailbanner').hide();   
      });

      $('.close_error_banner').on('click', function () {
        $('.error_display').hide();   
      });

      $(document).on('click', '.Uninstall_code', function (e) {
          $('.loader').show();
         $.ajax({
                type: "POST",
                url: '<?= base_url('dashboard/remove_script'); ?>',
                success: function (response) {
                     alert('Script Deleted Successfullyy....');
                     $('.loader').hide();
                }
            });
     });

     
       
   });

    (function ($) {
        $('#expert_install').on('click', function () {
            $('#upload_csv').show();
             $('.expert_model').show();
           // top.location.href = '<?= base_url('installation/expert_install'); ?>';
        });

        $('#import_csv').on('click', function () {
          $('.waiting').css('display', 'inline-block');
            var note = $('#title_content').val();
            
            var url = '<?=base_url()?>'+'installation/expert_install';
            $.ajax({
              url     : url,
              type    : "POST",
              data    : {note:note},
              success : function (response) {
                if(response == 0){
                   $('.waiting').hide();
                  $('.error_message').text('Please fill the notes.');
                  $('.error_display').show(); 
                }else{
                 $('#upload_csv').hide();
                 $('.expert_model').hide();
                 $('.waiting').hide();
                 $('.emailbanner').show();                   
                 document.getElementById('title_content').value = '';             
                }
                 
               
              } 
          }); 
        });


        $('.success_banner').hide();
        $('.error_banner').hide();

         $(document).on('click',".close_modal_expert", function(){
            $("#upload_csv").hide();
        });

        $(document).on('click',".upload_close-msg", function(){
            $("#upload_csv").hide();
        });


        setTimeout(function(){ 
            $('.success_banner').hide();
            $('.error_banner').hide();
        }, 7000);

        var message = "<?=$message?>";
        //alert(message);
        if(message){
             $('.success_banner').show();
             $('.success_msg').html(message);
        }

        $('.close-msg').on('click', function () {
            $('.success_banner').hide();
            $('.error_banner').hide();
        });

        
        // $('#automatic_installation').on('click', function () {

        //     var $_this = $(this);
        //     $_this.attr('disabled', true);
        //     $_this.html('Installing... <img src="<?= base_url('assets/images/install_loader.gif'); ?>" width="20px">');

        //     $.ajax({
        //         url: '<?= base_url('installation/automatic_install'); ?>',
        //         dataType: 'JSON',
        //         success: function (response) {

        //             if(response.success != undefined) {
        //                 console.log("success");
        //                 $('.success_banner').show();
        //                 $('.success_msg').html(response.success);
        //             }

        //             if (response.error != undefined) {
        //                 $('.error_banner').show();
        //                 $('.error_msg').html(response.error);
        //             }
        //             window.scroll(100, 0);

        //             $_this.removeAttr('disabled');
        //             $_this.html('Start Automatic Install');
        //             setTimeout(function(){ 
        //                 $('.success_banner').hide();
        //                 $('.error_banner').hide();
        //             }, 7000);

                    
        //         }
        //     });
        // });

        $(document).on('click',".close_modal", function(){
            $(".installation_modal").hide();
        });

        $("#theme_select").on("change", function(){                       
            var theme_name = $(this).find('option:selected').text();
            $('.Polaris-Select__SelectedOption').text(theme_name); 
            $("#update_theme").attr('disabled', false); 
            $("#update_theme").removeClass("Polaris-Button--disabled");                  
        });

        $("#btn-icon").on("change", function(){                       
            var theme_name = $(this).find('option:selected').text();
            $('.check').text(theme_name); 
            $("#update_theme").attr('disabled', false); 
            $("#update_theme").removeClass("Polaris-Button--disabled");                  
        });

        $("#update_theme").attr('disabled', true);
        $("#update_theme").addClass("Polaris-Button--disabled"); 

        $('#automatic_installation').on('click', function () {  
            $.ajax({
                url: '<?= base_url('installation/gettheme'); ?>',
                dataType: 'JSON',
                success: function (response) {

                    var data = response;
                    var select = document.getElementById('theme_select');                 
                    $.each( data, function( index, value ){
                        var opt = document.createElement('option');
                        opt.value = value.id;
                        opt.innerHTML = value.name;
                        select.appendChild(opt);
                    });  
                    $('.installation_modal').show();                  
                }
            });
        });

        $('#update_theme').on('click', function () {

            var $_this = $('#automatic_installation');
            $_this.attr('disabled', true);
            $_this.html('Installing... <img src="<?=base_url();?>assets/images/install_loader.gif" width="20px">');

            $('.installation_modal').hide();

            var theme_id =  $('#theme_select').val();
            var theme =  $('#btn-icon').val();
          
            $.ajax({
                type: 'POST', 
                url: '<?= base_url('installation/automatic_install'); ?>',
                data : {'theme_id' : theme_id,'theme' : theme},
                dataType: 'JSON',
                success: function (response) {

                    if (response.success != undefined) {    

                        $('.success_msg').html('<div class="alert alert-success">' + response.success + '</div>');
                        $('.success_banner').show();
                    }

                    if (response.error != undefined) {                        
                        $('.error_msg').html('<div class="alert alert-danger">' + response.error + '</div>');
                        $('.error_banner').show();
                    }
                    window.scroll(100, 0);

                    $_this.removeAttr('disabled');
                    $_this.html('Start Automatic Install');

                   // location.reload();
                }
            });
        });

    })(jQuery);
</script>